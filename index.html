<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WaveCoin</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/responsive.css">
    <meta name="theme-color" content="#f19e36" />

    <link rel="icon" type="image/x-icon" href="./assets/favicon/favicon.ico">

</head>
<body>

    
    <div class="squad-container">
        <div class="login">
            <div class="login-detail">
                <div class="profile">
                    <span>?</span>
                </div>

                <div class="user-data">
                    <span class="name">Default</span>
                    <span class="user-rank">No rank</span>
                </div>
            </div>
        </div>

    </div>

    <div class="coin-count-container">
        <img src="./assets/images/coin.png" width="45px">
        <h1 class="select-none"></h1>
    </div>

    <div class="rank-container">
        <div class="rank-items">
            <h3 class="select-none">No rank</h3>
            <span>•</span>
            <img src="./assets/images/bronze-medal.png" class="select-none" width="30px">
            <span id="rank" class="select-none">bronze</span>
        </div>
    </div>
    
    <div class="coin-container">
        <!-- <span>+1</span> -->
        <img src="./assets/images/golden.png" id="coin" class="select-none" width="300px" />
    </div>

    <div class="menu-container">
        <div class="power">
            <img src="./assets/images/thunder.png" width="40px">
            <div class="power-count">
                <span id="power" class="select-none">0</span>
                <span class="gray select-none" id="total">/0</span>
            </div>
        </div>

        <div class="menu-bottuns">
            <a href="/notcoin/frens.html" class="button b-r">
                <img src="./assets/images/teddy-bear.png" alt="" width="28px">
                <span class="select-none">Frens</span>
            </a>
            <a href="/notcoin/earn.html" class="button b-r">
                <img src="./assets/images/coin.png" alt="" width="28px">
                <span class="select-none">Earn</span>
            </a>
            <a href="/notcoin/boost.html" class="button">
                <img src="./assets/images/rocket.png" alt="" width="28px">
                <span class="select-none">Boost</span>
            </a>
        </div>
    </div>

    <div class="progress-bar">
        <div class="progress"></div>
    </div>


    <script src="./assets/js/main.js"></script>
    <script>
        let tg = window.Telegram.WebApp; //получаем объект webapp телеграма 
     
        tg.expand(); //расширяем на все окно  
     
        tg.MainButton.text = "Changed Text"; //изменяем текст кнопки 
        tg.MainButton.setText("Changed Text1"); //изменяем текст кнопки иначе
        tg.MainButton.textColor = "#F55353"; //изменяем цвет текста кнопки
        tg.MainButton.color = "#143F6B"; //изменяем цвет бэкграунда кнопки
        tg.MainButton.setParams({"color": "#143F6B"}); //так изменяются все параметры
     
        let btn = document.getElementById("btn"); //получаем кнопку скрыть/показать 
     
        btn.addEventListener('click', function(){ //вешаем событие на нажатие html-кнопки
           if (tg.MainButton.isVisible){ //если кнопка показана 
              tg.MainButton.hide() //скрываем кнопку 
           }
           else{ //иначе
              tg.MainButton.show() //показываем 
           }
        });
     
        let btnED = document.getElementById("btnED"); //получаем кнопку активировать/деактивировать
        btnED.addEventListener('click', function(){ //вешаем событие на нажатие html-кнопки
           if (tg.MainButton.isActive){ //если кнопка показана 
              tg.MainButton.setParams({"color": "#E0FFFF"}); //меняем цвет
              tg.MainButton.disable() //скрываем кнопку 
           }
           else{ //иначе
              tg.MainButton.setParams({"color": "#143F6B"}); //меняем цвет
              tg.MainButton.enable() //показываем 
           }
        });
     
        Telegram.WebApp.onEvent('mainButtonClicked', function(){
           tg.sendData("some string that we need to send"); 
           //при клике на основную кнопку отправляем данные в строковом виде
        });
     
     
        let usercard = document.getElementById("usercard"); //получаем блок usercard 
     
        let profName = document.createElement('p'); //создаем параграф
        profName.innerText = `${tg.initDataUnsafe.user.first_name}
        ${tg.initDataUnsafe.user.last_name}
        ${tg.initDataUnsafe.user.username} (${tg.initDataUnsafe.user.language_code})`;
        //выдем имя, "фамилию", через тире username и код языка
        usercard.appendChild(profName); //добавляем 
     
        let userid = document.createElement('p'); //создаем еще параграф 
        userid.innerText = `${tg.initDataUnsafe.user.id}`; //показываем user_id
        usercard.appendChild(userid); //добавляем
     
     
        //работает только в attachment menu
        // let pic = document.createElement('img'); //создаем img
        // pic.src = tg.initDataUnsafe.user.photo_url; //задаём src 
        // usercard.appendChild(pic); //добавляем элемент в карточку 
     </script>
</body>
</html>
